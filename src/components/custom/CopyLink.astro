---
import { Icon } from 'astro-icon/components';
---

<button 
  class="copy ml-2 rtl:ml-0 rtl:mr-2" 
  title="Copy Link">
  <Icon name="tabler:link" class="w-6 h-6 text-gray-400 dark:text-slate-500 hover:text-[--aw-color-accent] dark:hover:text-[--aw-color-accent]"/>
</button>

<script>
  const button = document.querySelector('button.copy');
  const toast = document.getElementById('toast');

  function showToast() {
    toast.style.transform = 'translate-y-0';
    toast.style.opacity = '1';
    setTimeout(() => {
      toast.style.opacity = '0';
      setTimeout(() => {
        toast.style.transform = 'translate-y-full';
      }, 300); // Match transition duration
    }, 2000); // Hide the toast after 2 seconds
  }

  button.addEventListener('click', () => {
    navigator.clipboard.writeText(window.location.href).then(() => {
      showToast();
    }).catch(err => {
      console.error('Failed to copy URL: ', err);
    });
  });
</script>

<div id="toast" class="absolute p-2 bg-slate-500 text-white rounded-lg opacity-0 transition-opacity duration-300 transform -translate-y-0 translate-x-[13.5rem]">
  copied
</div>